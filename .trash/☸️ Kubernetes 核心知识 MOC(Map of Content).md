---
tags: 
alias: 
date: 2025-07-31 15:21
---
这是为“云原生应用的事实标准编排平台”——Kubernetes 准备的知识地图。我们的目标是：**将应用部署的复杂性，变成一个可描述、可自动化的最终状态**。

## 🗺️ 第一层：核心哲学与基石

> **结论先行**：Kubernetes 的核心思想是**“声明式API”**和**“持续调节循环”**。你不用命令它“怎么做”，而是告诉它“我要什么”，K8s 会不知疲倦地将现实世界调整到你期望的样子。

- `[[☸️ Kubernetes 之魂：一个分布式系统的“恒温器”]]`：你设定一个温度（期望状态），K8s 就会自动打开或关闭空调（创建/销毁资源），以保持恒温。
    
- `[[☸️ Kubernetes 的承诺：自愈、可扩展、自动化]]`：它承诺你的应用在面对故障时能自我修复，在面对流量时能自动伸缩，在发布时能自动部署。
    

## 🧱 第二层：基础概念与核心对象

> **结论先行**：这是构成 K8s 世界的基本原子。理解这些原子的特性和关系，是描述和构建任何复杂应用的前提。

### 1. 集群架构 (The World)

- `[[☸️ 集群 (Cluster)]]`：一个 K8s 的完整实例，由一个控制平面和多个工作节点组成。
    
- `[[☸️ 控制平面 (Control Plane)]]`：**集群的大脑**。负责决策、调度和管理。
    
- `[[☸️ 工作节点 (Node)]]`：**集群的肌肉**。负责真正运行你的应用程序。
    

### 2. 核心 API 对象 (The Atoms)

- `[[☸️ Pod：最小的部署单元]]`：
    
    - **类比**：一个“豆荚”，里面可以包含一个或多个紧密协作的容器（“豆子”）。它们共享网络和存储，是 K8s 世界的原子。
        
- `[[☸️ Service：稳定的网络入口]]`：
    
    - **类比**：一个“餐厅服务员”。Pod（厨师）可能会因为轮班而更换，但 Service（服务员）的地址永远不变，他总能把顾客的请求（网络流量）正确地送到当前工作的 Pod 手中。
        
- `[[☸️ Namespace：虚拟的隔离环境]]`：
    
    - **类比**：一栋办公楼里的不同“楼层”。让你可以在同一个集群里，为不同团队或项目划分出互不干扰的独立空间。
        
- `[[☸️ Volume：为 Pod 提供存储]]`：让数据可以独立于 Pod 的生命周期而存在。
    

## 🏛️ 第三层：控制器与应用编排

> **结论先行**：如果说核心对象是“名词”，那么控制器就是“动词”。它们是驱动 K8s 自动化能力的引擎，负责将你的“声明”变成“现实”。

### 1. 工作负载控制器 (The Managers)

- `[[☸️ Deployment：无状态应用的管理者]]`：负责管理 Pod 的副本数量、版本和发布策略（如滚动更新）。这是最常用的控制器。
    
- `[[☸️ StatefulSet：有状态应用的管理者]]`：为需要稳定网络标识和持久化存储的应用（如数据库）而生。
    
- `[[☸️ DaemonSet：节点上的“守护神”]]`：确保每个（或某些）Node 上都运行一个指定的 Pod，常用于日志收集或监控。
    

### 2. 配置与存储 (The Supplies)

- `[[☸️ ConfigMap 与 Secret]]`：将配置和敏感信息从应用镜像中解耦，让你的应用更灵活、更安全。
    
- `[[☸️ PersistentVolume (PV) 与 PersistentVolumeClaim (PVC)]]`：**存储的供需体系**。PV 是管理员提供的“存储资源池”，PVC 是开发者提出的“存储申请单”。
    

### 3. 网络 (The Traffic Control)

- `[[☸️ Ingress：集群的外部流量入口]]`：管理来自集群外部的 HTTP/S 流量，并将其路由到内部的 Service。
    

## 🧠 第四层：核心原理与架构

> **结论先行**：深入理解 K8s 的大脑和神经系统，是让你在遇到问题时能够从容诊断，而不是束手无策的关键。

### 1. 控制平面组件 (The Brain's Lobes)

- `[[☸️ API Server：集群的唯一入口]]`：所有组件交互的中心枢纽，提供认证、授权和 API 服务。
    
- `[[☸️ etcd：集群的“真相”数据库]]`：一个高可用的键值存储，保存了整个集群的所有状态信息。
    
- `[[☸️ Scheduler：Pod 的“调度员”]]`：负责决定新创建的 Pod 应该在哪个 Node 上运行。
    
- `[[☸️ Controller Manager：控制器的“总管”]]`：运行所有核心控制器（如 Deployment 控制器）的进程。
    

### 2. 工作节点组件 (The Muscle's Nerves)

- `[[☸️ Kubelet：节点的“管家”]]`：确保分配到本节点的容器正在运行且健康。
    
- `[[☸️ Kube-proxy：节点的“网络代理”]]`：维护节点上的网络规则，实现 Service 的网络通信。
    

## 🚀 第五层：生态与工具

> **结论先行**：Kubernetes 本身只是一个内核，其强大的生命力源于繁荣的生态系统。

- **命令行工具**: `[[kubectl：你的万能遥控器]]`
    
- **包管理器**: `[[Helm：Kubernetes 的 “apt-get”]]`
    
- **服务网格 (Service Mesh)**: `[[Istio]]`, `[[Linkerd]]` (提供微服务间的流量管理、可观察性和安全性)
    
- **监控与日志**: `[[Prometheus]]`, `[[Grafana]]`, `[[Fluentd]]`
    
- **GitOps 工具**: `[[ArgoCD]]`, `[[Flux]]` (用 Git 作为唯一可信源来驱动部署)